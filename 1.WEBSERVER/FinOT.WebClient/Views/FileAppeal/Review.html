<script src='js/functions.js'></script>
<!--<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="panel panel-danger font-small">
            <div class="panel-heading">
                <strong>Appeal: Review</strong>
            </div>-->
<div class="step-heading">Review</div>

<div class="step-content step1">

    <div class="field-group filled-info subhead no-top-margin hidden-xs">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Petition type</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="Ctrl.caseinfo.TenantAppealInfo.AppealCategoryID == 1">Tenant</div>
            <div class="col-sm-6 col-xs-12" ng-show="Ctrl.caseinfo.TenantAppealInfo.AppealCategoryID == 2">Property owner</div>
        </div>
    </div><!-- .field-group -->

    <div class="subhead type2">
        <h4>Applicant and property information</h4>
        <a style="cursor: pointer;" ng-click="Ctrl.EditApplicantInfo()" class="btn-link btn-edit">Edit</a>
    </div>

    <div class="field-group filled-info subhead">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Applicant information</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.UserID!=0">
                {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.FirstName}} {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.LastName}}
                <br />{{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.BusinessName}} <br />{{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.AddressLine1}} {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.AddressLine2}}, <br />{{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.City}}, {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.State.StateName}} {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.Zip}} <br />
                T {{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.PhoneNumber}} <br />{{Ctrl.caseinfo.TenantAppealInfo.ApplicantUserInfo.email}}
            </div>
        </div>
    </div><!-- .field-group -->

    <div class="field-group filled-info subhead" ng-show="Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.UserID!=0 && Ctrl.caseinfo.bCaseFiledByThirdParty == false">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Representative</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.UserID!=0 && Ctrl.caseinfo.bCaseFiledByThirdParty == false">
                {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.FirstName}} {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.LastName}}<br />                {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.BusinessName}} <br />{{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.AddressLine1}},{{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.AddressLine2}}, <br />{{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.City}}, {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.State.StateName}} {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.Zip}} <br />
                T {{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.PhoneNumber}} <br />{{Ctrl.caseinfo.TenantAppealInfo.ThirdPartyInfo.Email}}
            </div>
        </div>
    </div><!-- .field-group -->

    <div class="field-group filled-info subhead" ng-show="self.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.UserID!=0">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Property owner</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="self.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.UserID!=0">
                {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.FirstName}} {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.LastName}}   <br />            <br />
                {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.BusinessName}} <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.AddressLine1}},{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.AddressLine2}}, <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.City}}, {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.State.StateName}} {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.Zip}} <br />
                T {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.PhoneNumber}} <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.Email}}
            </div>
        </div>
    </div><!-- .field-group -->

    <!--<div class="field-group filled-info subhead" ng-show="self.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.UserID!=0">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Property manager</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="self.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.UserID!=0">
                {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.FirstName}} {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.LastName}}   <br />            <br />
                {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.BusinessName}} <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.AddressLine1}},{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.AddressLine2}}, <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.City}}, {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.State.StateName}} {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.Zip}} <br />
                T {{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.PhoneNumber}} <br />{{Ctrl.caseinfo.TenantAppealInfo.AppealPropertyUserInfo.Email}}
            </div>
        </div>
    </div>--><!-- .field-group -->
    
    <div class="subhead type2 no-bottom-margin">
        <h4>Grounds for Appeal</h4>
        <a style="cursor: pointer;" ng-click="Ctrl.EditGrounds()" class="btn-link btn-edit">Edit</a>
    </div>

    <div class="field-group filled-info">
        <div ng-repeat="item in Ctrl.caseinfo.TenantAppealInfo.AppealGrounds">
            <p>
                <div ng-show="item.Selected">
                    {{item.AppealDescription}}
                </div>
            </p>
                <!--<p>b) The owner did not give me a summary of the justification(s) for the increase despite my written request</p>
        <p>g) The contested increase is the second rent increase in a 12-month period.</p>-->
        </div>
    </div>
    <div class="field-group filled-info subhead no-top-margin" ng-show="FilteredDocsExplanation.length != 0">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Explanation</div></div>
            <div class="col-sm-6 col-xs-12" ng-repeat="item in Ctrl.caseinfo.TenantAppealInfo.Documents | filter: {DocTitle: 'A_Grounds'} as FilteredDocsExplanation">
                <a style="cursor: pointer;" ng-show="item.isUploaded == true" ng-click="Ctrl.Download(item)"> {{item.DocName}}</a>
                   &nbsp;
            </div>
        </div>
    </div><!-- .field-group -->
    <!-- Additional Documentation -->
    <div class="subhead type2 no-bottom-margin">
        <h4>Additional Documentation</h4>
        <a style="cursor: pointer;" class="btn-link btn-edit" ng-click="Ctrl.EditDocuments()">Edit</a>
    </div>

    <div class="field-group" ng-show="FilteredDocs.length != 0">
        <!-- Custom Table -->
        <div class="custom-table docs-list">
            <div class="tbl-header">
                <div class="tbl-row clearfix">
                    <div class="col col-35 name">File name</div>
                </div>
            </div>

            <div class="tbl-body" ng-repeat="item in Ctrl.Documents | filter: {DocTitle: 'A_AdditionalDocuments'} as FilteredDocs">
                <div class="tbl-row clearfix">
                    <div class="item" ng-class="{'expanded':toggle}">
                        <div class="item-header clearfix">
                            <div class="col col-35 name pad-l30"><a style="cursor: pointer;" ng-click="toggle = !toggle" class="btn-toggle"></a>{{item.DocName}}</div>
                            <div class="col col-35 name type">&nbsp;</div>
                            <a style="cursor: pointer;" ng-show="item.isUploaded == true" ng-click="Ctrl.Download(item)" class="btn-link btn-download">Download</a>
                        </div>
                        <div class="item-content clearfix" ng-show="toggle">
                            <div class="row">
                                <div class="col-md-10 col-sm-12">
                                    <p>{{item.DocDescription}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- .custom-table -->
    </div>
   


    <!-- Serving of appeal to the opposing parties -->
    <div class="subhead type2">
        <h4>Serving of Appeal to Opposing Party</h4>
        <a style="cursor: pointer;" ng-click="Ctrl.EditServeAppeal()" class="btn-link btn-edit">Edit</a>
    </div>

    <div class="field-group">
        <div class="row">
            <div class="col-md-9 col-sm-12">
                <p>I placed a copy of this form, and all attached pages, in the United States mail or deposited it with a commercial carrier, using a service equal to first class mail, with all postage charges fully prepaid, addressed to each opposing party as follows:</p>
            </div>
        </div>
    </div>
    <div class="field-group filled-info subhead">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Date on which a copy of the appeal was served</div></div>
            <div class="col-sm-6 col-xs-12" ng-show="Ctrl.caseinfo.TenantAppealInfo.serveAppeal.PenaltyDate != null">
                {{Ctrl.caseinfo.TenantAppealInfo.serveAppeal.PenaltyDate.Month}} / {{Ctrl.caseinfo.TenantAppealInfo.serveAppeal.PenaltyDate.Day}} / {{Ctrl.caseinfo.TenantAppealInfo.serveAppeal.PenaltyDate.Year}}
            </div>
        </div>
    </div><!-- .field-group -->
    <div class="field-group filled-info subhead" ng-repeat="item in Ctrl.caseinfo.TenantAppealInfo.serveAppeal.OpposingParty | filter: {IsDeleted: false}">
        <div class="row">
            <div class="col-sm-6 col-xs-12"><div class="info-title">Opposing party</div></div>
            <div class="col-sm-6 col-xs-12">
                {{item.FirstName}} {{item.LastName}} <br />{{item.AddressLine1}} {{item.AddressLine2}}, <br />{{item.City}}, {{item.State.StateCode}} {{item.Zip}}
            </div>
        </div>
    </div><!-- .field-group -->




    <div class="step-footer">
        <input type="button" id="submit-appeal" name="submit-appeal" class="btn-primary" value="Submit appeal" ng-click="Ctrl.SubmitAppeal()" />
    </div>

</div>
   